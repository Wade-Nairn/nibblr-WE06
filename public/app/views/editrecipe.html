<div ng-include=" 'views/partials/subnav.html' "></div>

<div layout="column" class="container">

  <h1>Edit Recipe</h1>

	<md-content layout-padding>

	    <form ng-submit="editRecipe()">
	
		<div layout="row" layout-sm="column">	
			
			<div flex="45" layout-sm="column" layout-padding>
				<md-input-container class="md-block">
				      <label>Title</label>
				      <input ng-model="recipe.title">
				</md-input-container>

				<md-input-container class="md-block">
				      <label>Servings</label>
				      <input ng-model="recipe.servings">
				</md-input-container>

				<md-input-container class="md-block">
				      <label>Time</label>
				      <input ng-model="recipe.time">
				</md-input-container>
			</div>		
					

            <div flex="45" layout-sm="column" layout-padding>	
			   <h3>Select Image</h3>
			   	<div ng-if="uploader.queue == 0">
					<div ng-show="uploader.isHTML5">
                     	<div class="well my-drop-zone" nv-file-over="" uploader="uploader">
                            Drop Image Here
                        </div>
					</div>
                    <input type="file" nv-file-select="" uploader="uploader" multiple  />
				</div>
				<div ng-repeat="item in uploader.queue">

                    <div ng-show="uploader.isHTML5" ng-thumb="{ file: item._file, height: 100 }">
                    </div> 
                    <strong>{{ item.file.name }}</strong>
               
                    <button type="button" class="btn btn-success btn-xs" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess">
                        <i class="fa fa-upload"></i> Upload
                    </button>
               
                    <button type="button" class="btn btn-danger btn-xs" ng-click="item.remove()">
                        <i class="fa fa-trash"></i> Remove
                    </button>
               
            	</div>
			</div>
        </div>

			<md-input-container class="md-block">
			        <label>Method</label>
			        <textarea ng-model="recipe.method" columns="4"></textarea>
			</md-input-container>

			<md-input-container class="md-block">
				<label class="md-block">Ingredients</label>
				
			</md-input-container>
			
			<div ng-repeat="ingredient in recipe.ingredients">
				<div layout layout-sm="column">
					<md-input-container>
						      <label>Qty</label>
						      <input ng-model="ingredient.pivot.quantity">
						      
					</md-input-container>
					<md-input-container>
						      <label>Name</label>
						      <input ng-model="ingredient.name">
					</md-input-container>
				
				</div>
			</div>

			<md-button class="md-raised md-primary" ng-click="addInput()" type="button">Add Ingredient</md-button>

			
			<div class="flex flex-j-center">
			<md-button type="submit" class="md-raised md-primary" >Save Changes</md-button>
			</div>
		</form>

	</md-content>

</div>